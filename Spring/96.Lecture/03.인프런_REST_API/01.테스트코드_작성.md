### REST API 호출 및 응답 샘플
테스트 코드
~~~java
mockMvc.perform(post("/api/events/")    // 호출 정보
    .contentType(MediaType.APPLICATION_JSON_UTF8)
    .accept(MediaTypes.HAL_JSON)    
    .content(objectMapper.writeValueAsString(event)))
.andDo(print()) // API 호출 결과를 보고 싶을 때
.andExpect(status().isCreated())    // 결과가 201인지
.andExpect(jsonPath("id").exists());    // 결과 값이 id 항목이 있는지
~~~

응답 컨트롤러
~~~java
@PostMapping
public ResponseEntity createEvent(@RequestBody Event event) {
    URI createdUri = linkTo(EventController.class).slash("{id}").toUri();
    event.setId(10);
    return ResponseEntity.created(createdUri).body(event);
}
~~~

### Mockito 사용
케이스
- @WebMvcTest로 테스트할 때, Controller에서 사용하는 Repository를 사용하는 방법
- 그냥 사용하면 Repository를 빈으로 등록해주지 않기 때문에 에러가 발생한다

테스트 코드
~~~java
@MockBean   // Mock 빈을 등록
EventRepository eventRepository;

// Stub을 이용해서 가짜 기능 처리
event.setId(10);
Mockito.when(eventRepository.save(event)).thenReturn(event);
~~~

### MockBean을 제거하고 실제 테스트 사용
방법
- @WebMvcTest 가 아니라 @SpringBootTest 테스트를 사용한다

테스트 코드
~~~java
//@WebMvcTest // Web과 관련된 빈들만 등록하기 때문에 조금 더 빠르다
//            // Web용 Bean만 등록해주지 Repository까지 등록해주지 않는다
@SpringBootTest
@AutoConfigureMockMvc
~~~