# ApplicationEventPublisher

기능
- ApplicationContext가 구현하고 있다
- Event를 Publish하는 기능을 가지고 있다


## Spring 4.2 이전

Event 구현 샘플
- 코드
    ```java
    public class MyEvent extends ApplicationEvent {
        /**
        * Create a new {@code ApplicationEvent}.
        *
        * @param source the object on which the event initially occurred or with
        *               which the event is associated (never {@code null})
        */
        public MyEvent(Object source) {
            super(source);
        }
    }
    ```

ApplicationEventPublisher를 이용한 Event Publish 샘플
- 코드
    ```java
    @Component
    public class AppRunner implements ApplicationRunner {
        
        @Autowired
        ApplicationEventPublisher publisher;

        @Override
        public void run(ApplicationArguments args) throws Exception {
            publisher.publishEvent(new MyEvent(this, 100));
        }
    }
    ```

Event Handler 처리 샘플
- 코드
    ```java
    @Component 
    public class MyEventHandler implements ApplicationListener<MyEvent> {

        @Override
        public void onApplicationEvent(MyEvent event) {
            System.out.println("이벤트 처리: " + event.getData());
        }
    }
    ```


## Spring 4.2 이후
Event 구현 샘플
- 코드 (POJO 자바 클래스)
    ```java
    public class MyEvent{

        private int data;

        private Object source;

        public MyEvent(Object source, int data) {
            this.source = source;
            this.data = data;
        }

        public Object getSource() {
            return  source;
        }

        public int getData() {
            return  data;
        }
    }
    ```

Event Handler 처리 샘플
- 코드
    ```java
    @Component
    public class MyEventHandler  {

        @EventListener
        public void handle(MyEvent event) {
            System.out.println("이벤트 실행: " + event.getData());
        }
    }
    ```