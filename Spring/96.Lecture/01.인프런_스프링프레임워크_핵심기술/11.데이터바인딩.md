# 데이터 바인딩

## PropertyEditor

특정
- 공유하고 있는 Value는 Thread Safe하지 않다
   - = 빈으로 등록해서 사용하지 않는다
   - Controller에서 등록해 놓고 사용할 수 있다

PropertyEditor 구현
- 코드
    ~~~java
    public class EventEditor extends PropertyEditorSupport {

        @Override
        public String getAsText() {
            Event event = (Event)getValue();
            return  event.getId().toString();
        }

        @Override
        public void setAsText(String text) throws IllegalArgumentException {
            setValue(new Event(Integer.parseInt(text)));
        }
    }
    ~~~

PropertyEditor를 Controller에 바인딩
- 코드
    ~~~java
    @RestController
    public class EventController {

        @InitBinder
        public void init(WebDataBinder webDataBinder) {
            webDataBinder.registerCustomEditor(Event.class, new EventEditor());
        }

        @GetMapping("/event/{event}")
        public String getEvent(@PathVariable Event event) {
            System.out.println(event);
            return  event.getId().toString();
        }
    }

    ~~~
- EventController가 Get 요청을 처리할 때, InitBinder에 의해서 등록된 바인딩이 있는지 확인한다